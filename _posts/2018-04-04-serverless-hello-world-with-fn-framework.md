---
title: Serverless “Hello World” with Fn Framework
image: https://lh3.googleusercontent.com/pw/ACtC-3fsQpwfnY6RpVKYQyt5E337C_Yao1fWRrbwX_yOOhO4kIqYNpK3Aor5j-Q9kQednj1Dw4tqxYO2c6-Hy6qknZ_q52fGeT-axqFmCnemutMwAZZhivrqHRNdsJ-dpK_Mdx1WpY6hAQoKo1IN64TtOM96=w640-h480-no?authuser=1
author: Sergio Martin Rubio
categories:
    - DevOps
    - Serverless
mermaid: false
layout: post
---

The hype about [serverless](https://en.wikipedia.org/wiki/Serverless_computing){:target="_blank"} applications has been growing lately, and **AWS** is the leader at the moment, however there are other alternatives such as **Fn Project** by Oracle or **OpenWhisk** by **IBM**.

I found out about [Fn Project](https://github.com/fnproject/fn){:target="_blank"} during _Democratizing Serverless Talk_ at [London QCon 2018](https://dzone.com/articles/qcon-london-2018){:target="_blank"} and could not wait to try this platform since you can run your own serverless architecture on your own laptop.

## Features

- Open source.
- Docker-based platform.
- Allows you to run it locally.
- Helm chart available at [https://github.com/fnproject/fn-helm](https://github.com/fnproject/fn-helm){:target="_blank"}
- Metrics/Monitoring: Prometheus, syslog…
- Supports many languages: _Java_, _Golang_, _Ruby_, _Python_, _PHP_, and _Node.js_
- Easy to use.

{% include elements/figure.html image="https://lh3.googleusercontent.com/YixY7IJ-0e53by1N1FrZANp22E9zZ89rycnqbBZlXh2TBtIzQvEgWcYQre8_2njGDybbgj733sIPhMjZR6BAeUhEbHuT_w-dGuKmuo_4cj6CSrbm3-W1tLRPS2-04yQILiyINlUB=w2400" caption="Fn Project Architecture" %}

## Requirements

1. **Docker 17.06** or later.
2. **Docker Hub** account.
3. Log into your _Docker Hub_ account (`docker login`).
4. Install **Fn CLI tool**.
 - _MacOS_:

```shell
brew install fn
```

 - _MacOS_ and _Linux_

 ```shell
curl -LSs https://raw.githubusercontent.com/fnproject/cli/master/install | sh
 ```

5. _MacOS_, *Windows* and _Linux_: download latest bin file for your OS.

## Getting Started

1. Start up **Fn server**:

    >Make sure **Docker** is up and running.

    ```shell
    fn start
    ```

    Now a _Docker_ container (`fnproject/fnserver`) is running on your machine.

2. Use Fn _CLI tool_ to create a project with the language of your choice:

    ```shell
    fn init --runtime go --timeout 10 --idle-timeout 10 hello-serverless
    ```

    >_Golang_ was my choice for this hello world serverless application since it is a lightweight and easy to use programming language.

    **–timeout** -> for how long the code will be running

    **–idle-timeout 10** -> time container will wait for another call

    When running `fn init` a **Dockerfile** is generated by _Fn_:

    ```Dockerfile
    FROM fnproject/go:dev as build-stage
    WORKDIR /function
    RUN go get -u github.com/golang/dep/cmd/dep
    ADD . /go/src/func/
    RUN cd /go/src/func/ && dep ensure
    RUN cd /go/src/func/ && go build -o func
    FROM fnproject/go
    WORKDIR /function
    COPY --from=build-stage /go/src/func/func /function/
    ENTRYPOINT ["./func"]
    ```

    After running the init command all the boilerplate has been created:

    **func.go** -> Go application
    **func.yaml** -> Fn configuration file
    **test.json** -> test file for the application
    **Gopkg.toml** -> file for Goland dependency management.

3. Run application:

    ```shell
    fn run
    ```

    >First time you run this command will take longer.

    ```shell
    {"message":"Hello World"}
    ```

4. Deploy the function to your local **Fn server** to add the application to the **Fn list**:

    ```shell
    fn deploy --app myapp --local
    ```

    >The local flag is to avoid pushing the image to your **Docker Hub**. In case you want to use the Docker repository, first you have to set the **Docker Hub** username: `export FN_REGISTRY=DOCKER_HUB_USERNAME`.


    Now you can open your browser and go to [http://localhost:8080/r/myapp/hello-serverless](http://localhost:8080/r/myapp/hello-serverless).

## Useful commands

```shell
fn apps list # shows applications registered on your Fn server
fn routes list myapp # shows application endpoints
fn apps delete myapp # deletes application
```

Image by <a href="https://pixabay.com/users/bru-no-1161770/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2064090">Bruno /Germany</a> from <a href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2064090">Pixabay</a>
